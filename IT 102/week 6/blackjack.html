<!DOCTYPE html> 
<html>
    <header> 
        <title> blackjack game </title>
    </header>    

    <body>

        <h1> Blackjack Game </h1>

        <img src = "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQwcSfUfWmsCBbMRJEM2BVoFVndD85DymflNw&s" alt = "photo of the words blackjack in gold">
        <br>
        <button type = "button" onclick="playGame()"> Play </button>
        <br>
        <br>
        <p1 id = "gametext"> Let's get this game started. </p1>
        <br>
        <p2 id = "dealer"> Dealer score: </p2>
        <br>
        <p2 id = "user"> User score: </p2>


        <script>
          


            function playGame() {

             //initialize variables
            var card = 0;
            var total = 0;
            var hitMe = true;
            var dealer = 0;
            // constructor for my card object
            function Card(suit,rank){
                this.suit = suit;
                this.rank = rank;
                }

            var deck = []; 
            var suits = ["hearts", "spades", "clubs", "diamonds"];
            // rank has been adjusted to reflect numeric value of the numbers, with ace being 1 instead of typical rule of 1/11
            var rank = [1,2,3,4,5,6,7,8,9,10,10,10,10];
                // looping to create 52 cards
            for (i = 0; i < suits.length ; i++ ) {
                for (j = 0; j < rank.length; j++) {
                    deck.push(new Card(suits[i], rank[j] ));
                }
            }

            do {
                hitMe = prompt("Current total:  " + total + " Take a card? Y/N");
                        if (hitMe == "Y"){
                            hitMe = true;      
                            var pickedCard = Math.floor(Math.random()*52);
                            total += deck[pickedCard].rank;
                        } else{
                            hitMe = false;
                        }
             } while (hitMe);       
            //dealer always takes 2 cards
            dealer =  deck[pickedCard].rank + deck[pickedCard].rank;

            //final total
            alert("Your hand is worth " + total + ". Dealer got " + dealer + ".");
            document.getElementById("dealer").innerHTML = "Dealer hand is worth: " + dealer;
            document.getElementById("user").innerHTML = "Your hand is worth: " + total;
            if (total <= 21 && total > dealer) {
                document.getElementById("gametext").innerHTML = "You won!";
            } else if (total == dealer) {
                document.getElementById("gametext").innerHTML = "It's a tie! Let's go again.";
            } else {
                document.getElementById("gametext").innerHTML ="Better luck next time!";
            }

        }

        </script>
    </body>


</html>
